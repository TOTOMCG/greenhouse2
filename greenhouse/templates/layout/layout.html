{% load static %}

<!DOCTYPE html>
<!--
╭━╮╱╭┳━━┳╮╭━┳━━┳━━━━┳━━━╮ ╭╮╭━┳━━┳━━━━┳━━━┳╮╱╭┳━╮╱╭┳━━━╮ ╭━━━┳━━━┳╮╱╱╭╮
┃┃╰╮┃┣┫┣┫┃┃╭┻┫┣┫╭╮╭╮┃╭━╮┃ ┃┃┃╭┻┫┣┫╭╮╭╮┃╭━╮┃┃╱┃┃┃╰╮┃┃╭━━╯ ╰╮╭╮┃╭━━┫╰╮╭╯┃
┃╭╮╰╯┃┃┃┃╰╯╯╱┃┃╰╯┃┃╰┫┃╱┃┃ ┃╰╯╯╱┃┃╰╯┃┃╰┫╰━━┫┃╱┃┃╭╮╰╯┃╰━━╮ ╱┃┃┃┃╰━━╋╮┃┃╭╯
┃┃╰╮┃┃┃┃┃╭╮┃╱┃┃╱╱┃┃╱┃╰━╯┃ ┃╭╮┃╱┃┃╱╱┃┃╱╰━━╮┃┃╱┃┃┃╰╮┃┃╭━━╯ ╱┃┃┃┃╭━━╯┃╰╯┃
┃┃╱┃┃┣┫┣┫┃┃╰┳┫┣╮╱┃┃╱┃╭━╮┃ ┃┃┃╰┳┫┣╮╱┃┃╱┃╰━╯┃╰━╯┃┃╱┃┃┃╰━━╮ ╭╯╰╯┃╰━━╮╰╮╭╯
╰╯╱╰━┻━━┻╯╰━┻━━╯╱╰╯╱╰╯╱╰╯ ╰╯╰━┻━━╯╱╰╯╱╰━━━┻━━━┻╯╱╰━┻━━━╯ ╰━━━┻━━━╯╱╰╯
-->
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="{% static '/img/logo/logo.svg' %}">
  <!-- CSS files -->
  <link rel="stylesheet" href="{% static 'css/main/style.css' %}">
  <link rel="stylesheet" href="{% static 'css/main/navbar.css' %}">
  <link rel="stylesheet" href="{% static 'css/main/block.css' %}">
  <link rel="stylesheet" href="{% static 'css/main/author.css' %}">
  <title>Система управления теплицей</title>
</head>

<body class="body">
  <script src="https://unpkg.com/htmx.org@1.8.6"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>

  <!-- Navbar (left) -->
  <div class="navbar">
    <button class="navbar__logo" onclick="location.reload()"></button>
    <nav class="navbar__tabs">
      <button class="navbar__tab-button navbar__tab-button_content_control-panel"
        id="control-panel__button"
        onclick="openControlPanel()"><svg class="navbar__tab-button__icon" viewBox="0 0 24 24" width="28" height="28" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 7H4v12a1 1 0 001 1h14a1 1 0 001-1V7zM3 7V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"></path></svg></button>
      <button class="navbar__tab-button navbar__tab-button_content_database"
        id="database-panel__button"
        onclick="openDatabasePanel()"><svg class="navbar__tab-button__icon" viewBox="0 0 24 24" width="28" height="28" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 5v12c0 1.458 3.12 2.673 7.254 2.944a4.563 4.563 0 01-.228-1.02c-1.595-.123-2.998-.393-4.074-.751-.756-.252-1.296-.53-1.626-.79a1.235 1.235 0 01-.29-.302.295.295 0 01-.033-.066L3 17v-2.624c1.31.845 3.79 1.455 6.725 1.594a4.58 4.58 0 01.61-.755l.22-.219c-2.226-.037-4.194-.354-5.603-.823-.756-.252-1.296-.53-1.626-.79a1.235 1.235 0 01-.29-.302.295.295 0 01-.033-.066L3 13v-2.624C4.496 11.34 7.517 12 11 12c.936 0 1.838-.048 2.686-.136l1.165-1.165C13.706 10.89 12.4 11 11 11c-2.408 0-4.546-.327-6.048-.827-.756-.252-1.296-.53-1.626-.79a1.236 1.236 0 01-.29-.302.296.296 0 01-.033-.066L3 9V6.376C4.496 7.34 7.517 8 11 8c3.483 0 6.504-.66 8-1.624V8.02a4.588 4.588 0 011 .013V5c0-1.657-4.03-3-9-3S2 3.343 2 5zm17 0l-.003.015a.293.293 0 01-.032.066c-.043.07-.13.174-.291.301-.33.26-.87.539-1.626.79C15.546 6.674 13.408 7 11 7s-4.546-.327-6.048-.827c-.756-.252-1.296-.53-1.626-.79a1.236 1.236 0 01-.29-.302.296.296 0 01-.033-.066L3 5l.003-.015a.296.296 0 01.032-.066c.043-.07.13-.174.291-.301.33-.26.87-.539 1.626-.79C6.454 3.326 8.592 3 11 3s4.546.327 6.048.827c.756.252 1.296.53 1.626.79.162.128.248.232.29.302.021.033.03.055.033.066L19 5z"></path><path d="M11.216 20.955a3.45 3.45 0 010-4.879l1.565-1.564a.5.5 0 01.707.707l-1.565 1.564a2.45 2.45 0 003.465 3.465l1.564-1.564a.5.5 0 01.707.707l-1.564 1.564a3.45 3.45 0 01-4.879 0zM15.388 12.612a.5.5 0 010-.707l1.564-1.565a3.45 3.45 0 114.88 4.879l-1.565 1.564a.5.5 0 11-.707-.707l1.564-1.564a2.45 2.45 0 00-3.464-3.465l-1.565 1.565a.5.5 0 01-.707 0z"></path><path d="M13.912 18.26a.5.5 0 010-.708l4.358-4.358a.5.5 0 11.707.707L14.62 18.26a.5.5 0 01-.707 0z"></path><path opacity=".35" fill-rule="evenodd" clip-rule="evenodd" d="M19 5l-.003-.015a.293.293 0 00-.032-.066 1.235 1.235 0 00-.291-.301c-.33-.26-.87-.539-1.626-.79C15.546 3.326 13.408 3 11 3s-4.546.327-6.048.827c-.756.252-1.296.53-1.626.79a1.236 1.236 0 00-.29.302.296.296 0 00-.033.066L3 5l.003.015a.296.296 0 00.032.066c.043.07.13.174.291.301.33.26.87.539 1.626.79C6.454 6.674 8.592 7 11 7s4.546-.327 6.048-.827c.756-.252 1.296-.53 1.626-.79.162-.128.248-.232.29-.302a.293.293 0 00.033-.066L19 5z"></path></svg></button>
      <button class="navbar__tab-button navbar__tab-button_content_settings"
        id="setting-panel__button"
        onclick="openSettingPanel()"><svg class="navbar__tab-button__icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28" height="28" viewBox="0 0 50 50"> <path d="M 22.205078 2 A 1.0001 1.0001 0 0 0 21.21875 2.8378906 L 20.246094 8.7929688 C 19.076509 9.1331971 17.961243 9.5922728 16.910156 10.164062 L 11.996094 6.6542969 A 1.0001 1.0001 0 0 0 10.708984 6.7597656 L 6.8183594 10.646484 A 1.0001 1.0001 0 0 0 6.7070312 11.927734 L 10.164062 16.873047 C 9.583454 17.930271 9.1142098 19.051824 8.765625 20.232422 L 2.8359375 21.21875 A 1.0001 1.0001 0 0 0 2.0019531 22.205078 L 2.0019531 27.705078 A 1.0001 1.0001 0 0 0 2.8261719 28.691406 L 8.7597656 29.742188 C 9.1064607 30.920739 9.5727226 32.043065 10.154297 33.101562 L 6.6542969 37.998047 A 1.0001 1.0001 0 0 0 6.7597656 39.285156 L 10.648438 43.175781 A 1.0001 1.0001 0 0 0 11.927734 43.289062 L 16.882812 39.820312 C 17.936999 40.39548 19.054994 40.857928 20.228516 41.201172 L 21.21875 47.164062 A 1.0001 1.0001 0 0 0 22.205078 48 L 27.705078 48 A 1.0001 1.0001 0 0 0 28.691406 47.173828 L 29.751953 41.1875 C 30.920633 40.838997 32.033372 40.369697 33.082031 39.791016 L 38.070312 43.291016 A 1.0001 1.0001 0 0 0 39.351562 43.179688 L 43.240234 39.287109 A 1.0001 1.0001 0 0 0 43.34375 37.996094 L 39.787109 33.058594 C 40.355783 32.014958 40.813915 30.908875 41.154297 29.748047 L 47.171875 28.693359 A 1.0001 1.0001 0 0 0 47.998047 27.707031 L 47.998047 22.207031 A 1.0001 1.0001 0 0 0 47.160156 21.220703 L 41.152344 20.238281 C 40.80968 19.078827 40.350281 17.974723 39.78125 16.931641 L 43.289062 11.933594 A 1.0001 1.0001 0 0 0 43.177734 10.652344 L 39.287109 6.7636719 A 1.0001 1.0001 0 0 0 37.996094 6.6601562 L 33.072266 10.201172 C 32.023186 9.6248101 30.909713 9.1579916 29.738281 8.8125 L 28.691406 2.828125 A 1.0001 1.0001 0 0 0 27.705078 2 L 22.205078 2 z M 23.056641 4 L 26.865234 4 L 27.861328 9.6855469 A 1.0001 1.0001 0 0 0 28.603516 10.484375 C 30.066026 10.848832 31.439607 11.426549 32.693359 12.185547 A 1.0001 1.0001 0 0 0 33.794922 12.142578 L 38.474609 8.7792969 L 41.167969 11.472656 L 37.835938 16.220703 A 1.0001 1.0001 0 0 0 37.796875 17.310547 C 38.548366 18.561471 39.118333 19.926379 39.482422 21.380859 A 1.0001 1.0001 0 0 0 40.291016 22.125 L 45.998047 23.058594 L 45.998047 26.867188 L 40.279297 27.871094 A 1.0001 1.0001 0 0 0 39.482422 28.617188 C 39.122545 30.069817 38.552234 31.434687 37.800781 32.685547 A 1.0001 1.0001 0 0 0 37.845703 33.785156 L 41.224609 38.474609 L 38.53125 41.169922 L 33.791016 37.84375 A 1.0001 1.0001 0 0 0 32.697266 37.808594 C 31.44975 38.567585 30.074755 39.148028 28.617188 39.517578 A 1.0001 1.0001 0 0 0 27.876953 40.3125 L 26.867188 46 L 23.052734 46 L 22.111328 40.337891 A 1.0001 1.0001 0 0 0 21.365234 39.53125 C 19.90185 39.170557 18.522094 38.59371 17.259766 37.835938 A 1.0001 1.0001 0 0 0 16.171875 37.875 L 11.46875 41.169922 L 8.7734375 38.470703 L 12.097656 33.824219 A 1.0001 1.0001 0 0 0 12.138672 32.724609 C 11.372652 31.458855 10.793319 30.079213 10.427734 28.609375 A 1.0001 1.0001 0 0 0 9.6328125 27.867188 L 4.0019531 26.867188 L 4.0019531 23.052734 L 9.6289062 22.117188 A 1.0001 1.0001 0 0 0 10.435547 21.373047 C 10.804273 19.898143 11.383325 18.518729 12.146484 17.255859 A 1.0001 1.0001 0 0 0 12.111328 16.164062 L 8.8261719 11.46875 L 11.523438 8.7734375 L 16.185547 12.105469 A 1.0001 1.0001 0 0 0 17.28125 12.148438 C 18.536908 11.394293 19.919867 10.822081 21.384766 10.462891 A 1.0001 1.0001 0 0 0 22.132812 9.6523438 L 23.056641 4 z M 25 17 C 20.593567 17 17 20.593567 17 25 C 17 29.406433 20.593567 33 25 33 C 29.406433 33 33 29.406433 33 25 C 33 20.593567 29.406433 17 25 17 z M 25 19 C 28.325553 19 31 21.674447 31 25 C 31 28.325553 28.325553 31 25 31 C 21.674447 31 19 28.325553 19 25 C 19 21.674447 21.674447 19 25 19 z"></path></svg></button>
    </nav>
  </div>

  <!-- Main content (jinja) -->
  <main class="main">
    {% block main %}{% endblock main %}
  </main>

  <!-- HTMX-element reboot & redirect helper -->
  <div class="htmx">
    <div hx-get="/utility/temp/avg/" hx-trigger="load, every 5s" hx-target="#temp__avg"></div>
    <div hx-get="/utility/temp/1/" hx-trigger="load, every 5s" hx-target="#temp__1"></div>
    <div hx-get="/utility/temp/2/" hx-trigger="load, every 5s" hx-target="#temp__2"></div>
    <div hx-get="/utility/temp/3/" hx-trigger="load, every 5s" hx-target="#temp__3"></div>
    <div hx-get="/utility/temp/4/" hx-trigger="load, every 5s" hx-target="#temp__4"></div>
    <div hx-get="/utility/soil_hum/1/" hx-trigger="load, every 5s" hx-target="#soil-hum__1"></div>
    <div hx-get="/utility/soil_hum/2/" hx-trigger="load, every 5s" hx-target="#soil-hum__2"></div>
    <div hx-get="/utility/soil_hum/3/" hx-trigger="load, every 5s" hx-target="#soil-hum__3"></div>
    <div hx-get="/utility/soil_hum/4/" hx-trigger="load, every 5s" hx-target="#soil-hum__4"></div>
    <div hx-get="/utility/soil_hum/5/" hx-trigger="load, every 5s" hx-target="#soil-hum__5"></div>
    <div hx-get="/utility/soil_hum/6/" hx-trigger="load, every 5s" hx-target="#soil-hum__6"></div>
    <div hx-get="/utility/air_hum/avg/" hx-trigger="load, every 5s" hx-target="#air-hum__avg"></div>
    <div hx-get="/utility/air_hum/1/" hx-trigger="load, every 5s" hx-target="#air-hum__1"></div>
    <div hx-get="/utility/air_hum/2/" hx-trigger="load, every 5s" hx-target="#air-hum__2"></div>
    <div hx-get="/utility/air_hum/3/" hx-trigger="load, every 5s" hx-target="#air-hum__3"></div>
    <div hx-get="/utility/air_hum/4/" hx-trigger="load, every 5s" hx-target="#air-hum__4"></div>
  </div>

  <!-- Scripts -->
  <script>
    document.getElementById('control-panel__button').click();

    function openControlPanel() {
      document.getElementById('control-panel').style.visibility = "visible";
      document.getElementById('setting-panel').style.visibility = "hidden";
      document.getElementById('database-panel').style.visibility = "hidden";
      document.getElementById('control-panel__button').style.background = '#f0f0f0';
      document.getElementById('database-panel__button').style.background = 'white';
      document.getElementById('setting-panel__button').style.background = 'white';
    }

    function openDatabasePanel() {
      document.getElementById('control-panel').style.visibility = "hidden";
      document.getElementById('control-panel').style.position = "absolute";
      document.getElementById('setting-panel').style.visibility = "hidden";
      document.getElementById('setting-panel').style.position = "absolute";
      document.getElementById('database-panel').style.visibility = "visible";
      document.getElementById('database-panel__button').style.background = '#f0f0f0';
      document.getElementById('control-panel__button').style.background = 'white';
      document.getElementById('setting-panel__button').style.background = 'white';
    }

    function openSettingPanel() {
      document.getElementById('control-panel').style.visibility = "hidden";
      document.getElementById('control-panel').style.position = "absolute";
      document.getElementById('setting-panel').style.visibility = "visible";
      document.getElementById('database-panel').style.position = "absolute";
      document.getElementById('database-panel').style.visibility = "hidden";
      document.getElementById('control-panel__button').style.background = 'white';
      document.getElementById('database-panel__button').style.background = 'white';
      document.getElementById('setting-panel__button').style.background = '#f0f0f0';
    }
  </script>

</body>
</html>

